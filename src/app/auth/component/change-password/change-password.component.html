<section class="login bg-login">
    <div class="container">
      <div class="row forgottop"> 
        <div class="col-lg-6 col-md-8 col-12">
          <mat-card class="example-card loginCard" style="background-color:white;">
            <mat-card-title>Change Password</mat-card-title>
            <form [formGroup]="formGroup">
                <div id="sign-in-button"></div>
              <!-----------mobile start-------->
              <ng-container *ngIf="QrMobile">
                <div class="row mt-4">
                  <div class="col-md-12">
                    <p class="">
                      <mat-form-field appearance="fill">
                        <mat-label>Mobile Number</mat-label>
                        <input type="text" matInput formControlName="mobileNumber" [ngModel]="MobileNumber" placeholder="Please Enter Your Mobile Number" autocomplete="off" maxlength="10">
                        <mat-error *ngIf="formGroup.get('mobileNumber')?.hasError('required')">
                          Mobile Number is <strong>required</strong>
                        </mat-error>
                        <mat-error
                          *ngIf="!formGroup.get('mobileNumber')?.hasError('required') && formGroup.get('mobileNumber')?.hasError('pattern')">
                          Please enter valid mumber
                        </mat-error>
                      </mat-form-field>
                    </p>
                  </div>
                  <div class="col-md-12">
                    <div class="mt-4">
                      <div class="button float-start">
                        <button mat-stroked-button color="primary" type="button" (click)="Back1()">Back</button>
                      </div>
                      <div class="button float-end">
                        <button mat-flat-button color="primary" type="submit" (click)="getMemberStatus()">Next</button>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
              <!-----------mobile end-------->
  
              <!-----------mobile start-------->
              <ng-container *ngIf="QrOTP">
                <div class="row">
                  <div class="col-md-12">
                    <p class="mt-2">
                      <mat-form-field appearance="fill">
                        <mat-label>OTP Number</mat-label>
                        <input type="number" matInput formControlName="OTP" placeholder="Please Enter 6 Digits Of OTP" autocomplete="off" maxlength="6">
                        <mat-hint>Please Enter 6 Digits Of OTP</mat-hint>
                        <mat-error *ngIf="formGroup.get('OTP')?.hasError('required')">
                          OTP is <strong>required</strong>
                        </mat-error>
                      </mat-form-field>
                    </p>
                  </div>
                  <div class="col-md-12">
                    <div class="mt-3" style="display: flex; justify-content: space-between; align-items: center;">
                      <div class="button float-start">
                        <!-- <mat-label>1:00</mat-label> -->
                      </div>
                      <div class="button float-end" mat-dialog-actions>
                        <a mat-button (click)="resend()">Resend Otp</a>
                      </div>
                    </div>
                    <div class="mt-3" mat-dialog-actions>
                      <div class="button float-start">
                        <button mat-stroked-button color="primary" type="button" (click)="Back2()">Back</button>
                      </div>
                      <div class="button float-end" mat-dialog-actions>
                        <button mat-flat-button color="primary" type="submit" (click)="verifyOtp()">Validate</button>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
              <!-----------mobile end-------->
              <!-----------details start-------->
              <ng-container *ngIf="QrDetails">
                <div class="row">
                  <div class="col-md-12">
                    <p class="mt-2">
                      <mat-form-field appearance="fill">
                        <mat-label>New Password</mat-label>
                        <input type="password" [type]="hide ? 'password' : 'text'" formControlName="password" matInput placeholder="Please Enter Your New Password"
                          autocomplete="off" required>
                          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                          [attr.aria-pressed]="hide">
                          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                          <mat-error *ngIf="formGroup.hasError('required', 'password')">
                            Please enter your newpassword
                          </mat-error>
                      </mat-form-field>
                    </p>
                    <p class="mt-2">
                      <mat-form-field appearance="fill">
                        <mat-label>confirm Password</mat-label>
                        <input type="password" [type]="hide ? 'password' : 'text'" formControlName="confirmPassword" matInput placeholder="Please confirm Your Password" autocomplete="off" [errorStateMatcher]="matcher">
                        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                      </button>
                        <mat-error *ngIf="formGroup.hasError('notSame')">
                          Passwords do not match
                        </mat-error>
                      </mat-form-field>
                    </p>
                  </div>
                  <div class="col-md-12">
                    <div class="">
                      <div class="button float-start" mat-dialog-actions>
                        <button mat-flat-button  color="primary" type="submit"
                        (click)="putPassword()" >Change Password</button>
                      </div>        
                    </div>
                  </div>
                </div>
              </ng-container>
              <!-----------details end-------->
            </form>
          </mat-card>
        </div>
      </div>
    </div>
</section>